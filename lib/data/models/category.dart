import 'package:freezed_annotation/freezed_annotation.dart';
import 'package:uuid/uuid.dart';

part 'category.freezed.dart'; // This directive includes the code generated by Freezed for this class.
part 'category.g.dart'; // This directive includes the code for JSON serialization/deserialization.

@freezed
class Category with _$Category {
  // The main factory constructor for the `Category` class.
  // This is used to create a `Category` object by providing all the required fields.
  factory Category({
    required String id, // The unique identifier for the category.
    required String name, // The name of the category.
    required String
        subtitle, // A subtitle providing additional information about the category.
    required String description, // A detailed description of the category.
  }) = _Category;

  // A custom factory constructor named `create`, designed to generate a `Category` object
  // with an automatically generated unique ID (UUID).
  factory Category.create({
    required String name, // The name of the category to be passed in.
    required String subtitle, // The subtitle to describe the category further.
    required String
        description, // A detailed description of what the category is about.
  }) {
    // Here we generate a new UUID for the category's ID.
    return Category(
      id: const Uuid().v4(), // Generates a unique identifier for this category.
      name: name, // Passes the given name to the main factory constructor.
      subtitle:
          subtitle, // Passes the given subtitle to the main factory constructor.
      description:
          description, // Passes the given description to the main factory constructor.
    );
  }

  // This factory constructor allows the `Category` class to be deserialized
  // from a JSON object (e.g., when fetching data from a database or API).
  factory Category.fromJson(Map<String, dynamic> json) =>
      _$CategoryFromJson(json);
  // The `_$CategoryFromJson` function is auto-generated by Freezed and the JSON Serializable package.
  // It maps the JSON data to a `Category` object by matching the keys in the JSON to the class's fields.
}
